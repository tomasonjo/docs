---
title: Agent Builder setup
description: Add required workspace secrets for models and tools used by Agent Builder.
sidebarTitle: Setup
mode: wide
---

This page lists the workspace secrets you need to add before using Agent Builder. Add these in your LangSmith workspace settings under Secrets. Keep values scoped to your workspace and avoid placing credentials in prompts or code.

## How to add workspace secrets

In the [LangSmith UI](https://smith.langchain.com), ensure that your Anthropic API key is set as a [workspace secret](/langsmith/administration-overview#workspace-secrets).

1. Navigate to <Icon icon="gear" /> **Settings** and then move to the **Secrets** tab.
1. Select **Add secret** and enter the `ANTHROPIC_API_KEY` and your API key as the **Value**.
1. Select **Save secret**.

<Note> When adding workspace secrets in the LangSmith UI, make sure the secret keys match the environment variable names expected by your model provider.</Note>

## Required model key

- `ANTHROPIC_API_KEY`: Required for Agent Builder models. The agent graphs load this key from workspace secrets for inference.

<Callout icon="wand-magic-sparkles" color="#E0F2FE" iconType="regular">
  Agent Builder supports custom models. You can override the default Anthropic model by providing a different `modelId` and a matching secret name via `envVarName` (see “Custom models” for examples). Secrets prefixed with `AGENT_BUILDER_` are prioritized.
</Callout>

## Optional tool keys

Add keys for any tools you enable. These are read from workspace secrets at runtime.

- `EXA_API_KEY`: Required for Exa search tools (general web and LinkedIn profile search).
- `TAVILY_API_KEY`: Required for Tavily web search.
- `TWITTER_API_KEY` and `TWITTER_API_KEY_SECRET`: Required for Twitter/X read operations (app‑only bearer). Posting/media upload is not enabled.

## MCP server configuration

Agent Builder can pull tools from one or more MCP servers.

- Default server URL: set `MCP_SERVER_URL` in the deployment environment to point at your default server. If omitted, the platform uses its built‑in tools server.
- Per‑server headers: add MCP servers and headers in your workspace (stored server‑side). Agent Builder automatically forwards those headers when fetching tools for the matching server URL.

See “Remote MCP” for a full walkthrough and examples.
